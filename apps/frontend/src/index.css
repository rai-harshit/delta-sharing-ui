@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ===== LIGHT THEME (Default) ===== */
  :root,
  .light {
    --background: 210 20% 98%;           /* Soft off-white with slight blue tint */
    --foreground: 222 47% 11%;           /* Rich dark slate for text */
    --card: 0 0% 100%;                   /* Pure white for cards */
    --card-foreground: 222 47% 11%;      /* Dark text on cards */
    --popover: 0 0% 100%;                /* White popovers */
    --popover-foreground: 222 47% 11%;   /* Dark text in popovers */
    --primary: 187 94% 38%;              /* Slightly deeper cyan for light mode */
    --primary-foreground: 0 0% 100%;     /* White text on primary buttons */
    --secondary: 270 60% 55%;            /* Adjusted purple for light backgrounds */
    --secondary-foreground: 0 0% 100%;   /* White text on secondary */
    --muted: 210 20% 94%;                /* Light gray for muted backgrounds */
    --muted-foreground: 215 16% 47%;     /* Medium gray for secondary text */
    --accent: 187 94% 38%;               /* Same as primary */
    --accent-foreground: 0 0% 100%;      /* White text on accent */
    --destructive: 0 84% 50%;            /* Slightly deeper red for light mode */
    --destructive-foreground: 0 0% 100%; /* White text on destructive */
    --border: 214 32% 85%;               /* Light gray-blue border */
    --input: 214 32% 91%;                /* Slightly darker input background */
    --ring: 187 94% 38%;                 /* Cyan focus ring */
    --radius: 0.75rem;
    
    /* Light mode specific */
    --shadow-color: 214 32% 80%;
    color-scheme: light;
  }

  /* ===== DARK THEME ===== */
  .dark {
    --background: 240 10% 4%;            /* Rich dark background */
    --foreground: 210 40% 98%;           /* Bright white-ish text */
    --card: 240 10% 7%;                  /* Slightly lighter card */
    --card-foreground: 210 40% 98%;      /* Bright text on cards */
    --popover: 240 10% 7%;               /* Same as card */
    --popover-foreground: 210 40% 98%;   /* Bright text */
    --primary: 187 94% 43%;              /* Vibrant cyan */
    --primary-foreground: 240 10% 4%;    /* Dark text on primary */
    --secondary: 270 70% 60%;            /* Vibrant purple */
    --secondary-foreground: 210 40% 98%; /* Light text on secondary */
    --muted: 240 5% 15%;                 /* Dark muted background */
    --muted-foreground: 215 20% 65%;     /* Medium gray text */
    --accent: 187 94% 43%;               /* Same as primary */
    --accent-foreground: 240 10% 4%;     /* Dark text on accent */
    --destructive: 0 84% 60%;            /* Bright red */
    --destructive-foreground: 210 40% 98%;/* Light text on destructive */
    --border: 240 5% 18%;                /* Dark border */
    --input: 240 5% 18%;                 /* Dark input background */
    --ring: 187 94% 43%;                 /* Cyan focus ring */
    --radius: 0.75rem;
    
    /* Dark mode specific */
    --shadow-color: 240 10% 0%;
    color-scheme: dark;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-sans antialiased;
    background-attachment: fixed;
    min-height: 100vh;
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  /* Light mode background gradient */
  .light body,
  :root:not(.dark) body {
    background-image: 
      radial-gradient(ellipse 80% 50% at 50% -20%, rgba(6, 182, 212, 0.06), transparent),
      radial-gradient(ellipse 60% 40% at 100% 100%, rgba(168, 85, 247, 0.04), transparent);
  }

  /* Dark mode background gradient */
  .dark body {
    background-image: 
      radial-gradient(ellipse 80% 50% at 50% -20%, rgba(6, 182, 212, 0.08), transparent),
      radial-gradient(ellipse 60% 40% at 100% 100%, rgba(168, 85, 247, 0.05), transparent);
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Style date inputs - adapts to color scheme */
  input[type="date"] {
    color-scheme: inherit;
    position: relative;
  }

  /* Dark mode date picker adjustments */
  .dark input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(0.8) sepia(1) saturate(5) hue-rotate(145deg);
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  /* Light mode date picker */
  .light input[type="date"]::-webkit-calendar-picker-indicator,
  :root:not(.dark) input[type="date"]::-webkit-calendar-picker-indicator {
    filter: none;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  input[type="date"]::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
  }

  /* Style number inputs */
  input[type="number"] {
    -moz-appearance: textfield;
  }

  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* Styled checkbox - works for both themes */
  input[type="checkbox"].styled-checkbox {
    appearance: none;
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    min-width: 18px;
    border: 2px solid hsl(var(--border));
    border-radius: 4px;
    background: hsl(var(--muted));
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
  }

  input[type="checkbox"].styled-checkbox:hover {
    border-color: hsl(var(--primary));
    background: hsl(var(--muted));
  }

  input[type="checkbox"].styled-checkbox:checked {
    background: hsl(var(--primary));
    border-color: hsl(var(--primary));
  }

  /* Dark mode checkbox checkmark */
  .dark input[type="checkbox"].styled-checkbox:checked::after {
    content: "";
    position: absolute;
    left: 5px;
    top: 2px;
    width: 4px;
    height: 8px;
    border: solid hsl(var(--background));
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }

  /* Light mode checkbox checkmark */
  .light input[type="checkbox"].styled-checkbox:checked::after,
  :root:not(.dark) input[type="checkbox"].styled-checkbox:checked::after {
    content: "";
    position: absolute;
    left: 5px;
    top: 2px;
    width: 4px;
    height: 8px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }

  input[type="checkbox"].styled-checkbox:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}

@layer utilities {
  .glass {
    @apply bg-card/80 backdrop-blur-xl;
  }
  
  /* Glow effects - more subtle in light mode */
  .glow-cyan {
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
  }
  
  .light .glow-cyan,
  :root:not(.dark) .glow-cyan {
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.15);
  }
  
  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
  }
  
  .light .glow-purple,
  :root:not(.dark) .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.15);
  }
  
  .gradient-border {
    position: relative;
  }
  
  .gradient-border::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.5), rgba(168, 85, 247, 0.5));
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }
  
  /* Light mode gradient border - slightly more subtle */
  .light .gradient-border::before,
  :root:not(.dark) .gradient-border::before {
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.4), rgba(168, 85, 247, 0.4));
  }

  /* Card shadows for light mode */
  .light .shadow-lg,
  :root:not(.dark) .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
  }
  
  .light .shadow-xl,
  :root:not(.dark) .shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
  }
}









